<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>매일 새로운 이미지!</title>
<link rel="stylesheet" href="css/bootstrap.css"/>
<link rel="stylesheet" href="css/animate.css">
<link rel="stylesheet" href="css/font-awesome.min.css">

<style>
body{
      /*background-image: url('https://source.unsplash.com/category/nature/1600x900');*/
      /*background-size: cover;*/
      
     background-color: lightgrey;
      margin:0;
     
      /*justify-content: center;
      align-items: center;*/
    }

/*메뉴 드랍다운*/
.dropdown-menu li{
	background-color: black;
	
}
.dropdown-menu li a{
	color:white;

}
/*중복됬을시 경고 숨기기*/
.form-control-feedback{
		display: none;
	}


	/*.loginForm{
		float:left;
		display: inline-block;
		border:1px solid red;
		width: 200px;
	}*/



/* 로딩이미지*/
.loading{
	position: fixed;
		left: 0;
		bottom: 0;
		width: 100%;
		display: none;
		text-align: center;
}
.loader img{
		width: 50px;
	}
</style>
</head>
<body ondragstart="return false" onselectstart="return false" >

<!-- 네비게이션바 -->
<div class="navbar navbar-inverse wow fadeInLeft"  data-wow-duration="2s" data-wow-delay="0.5s" id="top">
	<div class="navbar-header">
	
		
		<a href="#" class="navbar-brand"><i class="fa fa-random" aria-hidden="true" id="randomsong"></i></a>
		<button class="navbar-toggle" data-toggle="collapse" data-target="#three">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="collapse navbar-collapse" id="three">
		<ul class="nav navbar-nav">
			<li class="dropdown">
				
               <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="play"><i class="fa fa-pause-circle-o fa-2x"  id="playicon"></i></a>
              <ul class="dropdown-menu">
                <li class="active"><a href="#" id="audio1">Bruno Mars - That's What I Like</a></li>
                <li><a href="#" id="audio2">Bruno Mars - 24K Magic </a></li>
                <li><a href="#" id="audio3" >Mark Ronson - Uptown Funk</a></li>   
              </ul>
            </li>
            <li class="dropdown">

              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a>
              <ul class="dropdown-menu">
                <li><a href="#">빈페이지</a></li>
                <li><a href="#">공사중 </a></li>
                <li><a href="#">입니다.</a></li>
                 
              </ul>
            </li>
            <li class="dropdown">

              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown</a>
              <ul class="dropdown-menu">
                <li><a href="#">빈페이지</a></li>
                <li><a href="#">공사중 </a></li>
                <li><a href="#">입니다.</a></li>
                 
              </ul>
            </li>

		</ul>
		<form class="navbar-form navbar-right">
			<div class="form-group">
				<input type="text" class="form-control" placeholder="Google 검색" id="serchInput" />
			</div>
			<a href="https://www.google.co.kr/webhp?hl=ko&sa=X&ved=0ahUKEwj3htWc28TTAhWBOJQKHWJTAT8QPAgD#hl=ko&q=" class="btn btn-warning" id="searcher"><span class="glyphicon glyphicon-search"></span> 검색</a>
		</form>
	</div>
</div>





<!-- 로그인 폼 -->
<div class="container-fluid wow fadeInDown"  data-wow-duration="2s" data-wow-delay="0.5s">
<div class="col-sm-3 loginForm">
		<form action="/ajax/loginAction" id="loginForm" method="post">
				<div class="form-group">
					<label for="inputId">아이디</label>
					<input type="text" class="form-control" id="inputId" name="inputId"/>
					<p class="help-block"></p>
				</div>
				<div class="form-group">
					<label for="inputPwd">비밀번호</label>
					<input type="password" class="form-control" id="inputPwd"  name="inputPwd"/>
				</div>
				
				<!-- <div class="checkbox">
					<label>
						<input type="checkbox"/> 아이디 저장
					</label>
				</div> -->
				<button type="submit" class="btn btn-primary">로그인</button>
				<button class="btn btn-info" data-toggle="modal" data-target="#myModal">회원가입</button>
		</form>
		<!--<button class="btn btn-warning" data-toggle="modal" data-target="#myModal2">나중에 빼던가함 id찾기버튼</button>-->
	</div>


<!-- 케로셀 -->
<div class="row col-sm-9 wow fadeInRight"  data-wow-duration="2s" data-wow-delay="0.5s" >
	<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="2000">
	
	
		<ol class="carousel-indicators">
		<!-- data-targer="Carousel 전체의 선택자" 
			data-slide-to="컨텐츠 인덱스" -->
			<li data-target="#myCarousel" data-slide-to="0"></li>
			<li data-target="#myCarousel" data-slide-to="1"></li>
			<li data-target="#myCarousel" data-slide-to="2"></li>
		</ol>
		<div class="carousel-inner">
			<div class="item active"><!--최초 활성화 active-->
				<img src="https://source.unsplash.com/category/nature/1200x500"/>
				<div class="carousel-caption"><!--캡션의 자식으로 제목과 내용작성-->
					<h3>nature</h3>
					<p>image</p>
				</div>
			</div>
			<div class="item">
				<img src="https://source.unsplash.com/random/1200x500"/>
				<div class="carousel-caption">
					<h3>blah</h3>
					<p>image</p>
				</div>
			</div>
			<div class="item">
				<img src="https://source.unsplash.com/category/people/1200x500"/>
				<div class="carousel-caption">
					<h3>people</h3>
					<p>image </p>
				</div>
			</div>
		</div>
		<!-- 이전, 다음 control UI -->
		<a href="#myCarousel" class="left carousel-control" data-slide="prev">
			<span class="glyphicon glyphicon-chevron-left"></span>
			<span class="sr-only">이전</span>
		</a>
		<a href="#myCarousel" class="right carousel-control" data-slide="next">
			<span class="glyphicon glyphicon-chevron-right"></span>
			<span class="sr-only">다음</span>
		</a>
	</div>
</div>

</div>

</br>




<!-- 회원가입폼 -->

<div class="modal fade" id="myModal">
	<!-- modal-lg  | default | modal-sm -->	
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span>&times;</span><span class="sr-only">모달 닫기</span></button>
        <h4 class="modal-title">회원가입</h4>
      </div>
      <div class="modal-body">
			    <form action="" id="submitInfoForm">
					<div class="form-group has-feedback">
						<label for="submitId" class="control-label">아이디</label>
						<input type="text"  class="form-control"  id="submitId"/>
						<span class="glyphicon glyphicon-ok form-control-feedback"></span>
						<button class="btn btn-warning">중복확인</button>
						<p class="help-block">영문 대,소문자로 시작하여 숫자포함 5~15자리</p>
					</div>
					<div class="form-group has-feedback">
						<label for="submitPwd">비밀번호</label>
						<input type="password"  class="form-control"  id="submitPwd"/>
						<span class="glyphicon glyphicon-ok form-control-feedback"></span>
						<p class="help-block">숫자와 영소문자를 조합하여 5~10자리</p>
						
					</div>
					<div class="form-group">
						<label for="submitPwd2">비밀번호확인</label>
						<input type="password"  class="form-control"  id="submitPwd2"/>
						<p class="help-block">비밀번호를 확인하세요</p>
					</div>
					<!--
					<div class="form-group">
						<label for="submitAddr">주소</label>
						<input type="text"  class="form-control"  id="submitAddr"/>
						<p class="help-block">반드시 입력하세요</p>
					</div>

					<div class="form-group">
						<label for="submitPhone">전화번호</label>
						<input type="text"  class="form-control"  id="submitPhone"/>
						<p class="help-block">반드시 입력하세요</p>
					</div>
					-->
				</form>
      </div>
      <div class="modal-footer">
      	
	        <button type="button" class="btn btn-default" data-dismiss="modal">취소</button>
	        <button class="btn btn-primary" id="submitInfo" disabled="disabled">회원가입하기</button>
        
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



<!-- content 


<div class="container">
	<div class="row col-sm-12">
		<ul style="overflow: hidden;">
			<li class="wow fadeInLeft" data-wow-duration="2s" data-wow-delay="1s"><img class="img-responsive" src="http://placehold.it/800x400"></li>
			<li class="wow fadeInRight" data-wow-duration="2s" data-wow-delay="1s" style="color:white;">span테스트</li>
			<li class="wow fadeInUp" data-wow-duration="2s" data-wow-delay="1s" style="color:white;">테스트</li>
		</ul>
		<ul style="overflow: hidden;">
			<li class="wow fadeInLeft" data-wow-duration="2s" data-wow-delay="1s"><img class="img-responsive" src="http://placehold.it/800x400"></li>
			<li class="wow fadeInRight" data-wow-duration="2s" data-wow-delay="1s">span테스트</li>
			<li class="wow fadeInUp" data-wow-duration="2s" data-wow-delay="1s">테스트</li>
		</ul>
		<ul style="overflow: hidden;">
			<li class="wow fadeInLeft" data-wow-duration="2s" data-wow-delay="1s"><img class="img-responsive" src="http://placehold.it/800x400"></li>
			<li class="wow fadeInRight" data-wow-duration="2s" data-wow-delay="1s">span테스트</li>
			<li class="wow fadeInUp" data-wow-duration="2s" data-wow-delay="1s">테스트</li>
		</ul>
		

	</div>
</div>
-->




<!-- top버튼 -->

 <div style="position: fixed; right: 20px;bottom: 0; width:50px; height:50px; ">
 	<a href="#top" class="btn btn-default" id="arrowUp"><i class="fa fa-arrow-up fa-3x"></i></a>
 </div>

	<div class="loading">
		<img src="/images/loading.gif"/>
	</div>
<script src="js/jquery-1.11.2.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/jquery.smooth-scroll.js"></script>
<script>


wow = new WOW(
        {
	        animateClass: 'animated',
	        offset:100
        }
    	);
    	wow.init();


//오디오 재생
var audio1 = new Audio();
audio1.src="images/1.mp3"
var audio2= new Audio();
audio2.src="images/2.mp3"
var audio3= new Audio();
audio3.src="images/3.mp3"
var audiolist=[];
var obj1 = {};
obj1.audio=audio1;
var obj2={};
obj2.audio=audio2;
var obj3={};
obj3.audio=audio3;
audiolist.push(obj1);
audiolist.push(obj2);
audiolist.push(obj3);


var list = 0;
$(document).ready(function(){
	audio1.play();
});

var isplay=true;
$("#play").click(function(){

	if(isplay){
		$("#playicon")
	.removeClass("fa fa-pause-circle-o fa-2x")
	.addClass("fa fa-play-circle-o fa-2x")
	audiolist[list].audio.pause();
	
	isplay=false;
}else{
	$("#playicon")
	.removeClass("fa fa-play-circle-o fa-2x")
	.addClass("fa fa-pause-circle-o fa-2x")
	audiolist[list].audio.play();
	isplay=true;
}
	
});

$("#audio1").click(function(){
	
	$(this).parent().addClass("active").siblings().removeClass("active")
	audiolist[list].audio.currentTime=0;
	audiolist[list].audio.pause();
	audio1.play();
	list=0;
});

$("#audio2").click(function(){
	
	$(this).parent().addClass("active").siblings().removeClass("active")
	audiolist[list].audio.currentTime=0;
	audiolist[list].audio.pause();
	audio2.play();
	list=1;
});
$("#audio3").click(function(){
	
	$(this).parent().addClass("active").siblings().removeClass("active")
	audiolist[list].audio.currentTime=0;
	audiolist[list].audio.pause();
	audio3.play();
	list=2;
});

$("#randomsong").click(function(){
	for(var i=0;i<3;i++){
	audiolist[i].audio.currentTime=0;
	audiolist[i].audio.pause();}
	audiolist[Math.floor(Math.random()*3)].audio.play();

});


//검색버튼
$("#searcher").click(function(){
	var searchVal=$("#serchInput").val();
	var addr= $(this).attr("href");
	$(this).attr("href",addr+searchVal);
	
});

//네비바 hover dropdown
	$('ul.nav li.dropdown').hover(function() {
  $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeIn(500);
}, function() {
  $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeOut(500);
});

//로그인,회원가입중복버튼 submit막기
$("#loginForm,#submitInfoForm").submit(function(){

	return false;
});

$("#submitInfoForm").submit(function(){
	var inputId=$("#inputId").val();
	$.ajax({
		url:"/ajax/already",
		method:"post",
		data:{
			inputId:inputId
		},
		success:function(data){
			alert(data);
		}
	});
	return false;
});

 $("#loginForm").submit(function(){

 	var inputId=$("#inputId").val();
 	var inputPwd=$("#inputPwd").val();
 	$.ajax({
 		url:"/ajax/loginAction",
 		method:"post",
 		data:{
 			inputId:inputId,
 			inputPwd:inputPwd
 		},
 		success:function(data){
 			alert(data);
 		}
 	});
 	

 	return false;
 });



//아이디와 비밀번호 정규표현식에 적합한지 판별

	//아이디를 검증할 정규 표현식 
	var reg1 = /^[a-zA-Z][a-zA-Z0-9]{4,14}$/;
	var reg2 = /^[a-z0-9]{5,10}$/;
	//아이디 검증 통과 여부
	var isIdValid=false;
	var isPwValid=false;
	var isPwValid2=false;
$("#submitInfo").click(function(){
		//아이디가 유효하지않거나 pw가 유효하지 않으면
		if(!isIdValid || !isPwValid){

			//폼 전송 막기
			return false;
		}
		var submitId=$("#submitId").val();
		var submitPwd=$("#submitPwd").val();
		var submitAddr=$("#submitAddr").val();
		var submitPhone=$("#submitPhone").val();

		$.ajax({
			url:"/ajax/submitInfo",
			method:"post",
			data:{
				id:submitId,
				pw:submitPwd,
				addr:submitAddr,
				phone:submitPhone
			},
			success:function(data){
				alert(data);

			}
		});
		$("#submitId").val("");
		$("#submitPwd").val("");
		$("#submitPwd2").val("");

	});
$("#submitId").keyup(function(){
		//입력한 문자열을 읽어온다. 
		var submitId=$(this).val();
		if(reg1.test(submitId)){
			//성공 상태 표시하기
			makeSuccess($(this))
			isIdValid=true;
		}else{
			// 에러상태 표시하기
			makeError($(this))
			isIdValid=false;
		}
		changeButtonState();
	});
$("#submitPwd").keyup(function(){
		//입력한 문자열을 읽어온다. 
		var submitPwd=$(this).val();
		if(reg2.test(submitPwd)){
			//성공 상태 표시하기
			makeSuccess($(this))
			isPwValid=true;
		}else{
			// 에러상태 표시하기
			makeError($(this))
			isPwValid=false;
		}
		changeButtonState();
	});

$("#submitPwd2").keyup(function(){
	var submitPwd2=$(this).val();
	if($("#submitPwd").val() == submitPwd2){
		makeSuccess($(this))
			isPwValid2=true;
	}else{
			// 에러상태 표시하기
			makeError($(this))
			isPwValid2=false;
		}
		changeButtonState();
});


	//전송 버튼의 상태를 바꾸는 함수
	function changeButtonState(){
		if(isIdValid&&isPwValid&&isPwValid2){
			$("#submitInfo")
			.removeAttr("disabled");
		}else{
			$("#submitInfo")
			.attr("disabled","disabled");
		}
	}
	//성공 상태를 나타내주는 함수
	function makeSuccess($transpoter){
								
			$transpoter
			.next()//선택자의 다음요소
			.removeClass("glyphicon-remove")
			.addClass("glyphicon-ok")
			.show()
			//여까지 span
			.parent()
			.removeClass("has-error")
			.addClass("has-success")
			//여까지 div
			.find(".help-block")//자식요소에서 help-block인것을 찾음
			.hide();
			//여까지 p

	}
	//실패 상태를 나타내주는 함수
	function makeError($elem){
			$elem
			.next()//선택자의 다음요소
			.removeClass("glyphicon-ok")
			.addClass("glyphicon-remove")
			.show()
			.parent()
			.removeClass("has-success")
			.addClass("has-error")
			.find(".help-block")//자식요소에서 help-block인것을 찾음
			.show();
	}


//////////////////////////////////////////////////////////////////
	//회원가입버튼 눌렀을때 양식제출
	$("#")
	
////////////////////////////////////////////////////////////////////
//스크롤을 내릴때마다 랜덤이미지 생성


//문서가 로딩 완료되었을때 실행할 함수
$(document).ready(function(){
	setInterval(function(){
		var windowHeight=$(window).height();
		var documentHeight=$(document).height();
		//문서의 높이가 window 의 높이보다 작으면
		if(documentHeight <= windowHeight){
			addImg();
		}
	},1000);
		
	});

//스크롤이 바닥에 닿았는지 
$(window).on("scroll", function(){
		if(isEndOfBottom()){
			addImg();
		}
	});

//이미지를 추가하는 함수등록
	function addImg(){$(".loading").show();
					$.ajax({
						url:"/img/addImg",
						method:"get",
						success:function(data){

							var divContainer=$("<div/>").addClass("container");
							var divrow=$("<div/>");
							var imgUl=$("<ul/>");
							var randomImgLeft = $("<img/>").addClass("img-responsive img-rounded").attr("src",data).css("cursor","pointer");
							


							$("<li/>")
							.addClass("wow fadeInLeft")
							.attr("data-wow-duration","1s")
							.attr("data-wow-delay","0.5s")
							.append(randomImgLeft)
							.appendTo(imgUl);

							$("<li/>")
							.addClass("wow fadeInRight fa fa-trash fa-2x")
							.attr("data-wow-duration","0.5s")
							.attr("data-wow-delay","0.5s")
							.text("swipe")
							.appendTo(imgUl);

							imgUl.css("overflow","hidden").appendTo(divrow);
							divrow.addClass("col-xs-10").appendTo(divContainer);
							divContainer.appendTo("body");
							$(".loading").hide();
						}
					});
			

	};
//바닥까지 스크롤했는지 여부를 리턴해주는 함수 
	function isEndOfBottom(){
		//scroll top 구하기
		var scrollTop=$(window).scrollTop();
		//window height 구하기
		var windowHeight=$(window).height();
		//document height 구하기
		var documentHeight=$(document).height();
		//바닥 까지 스크롤 되었는지 여부
		var isBottom=documentHeight <= scrollTop+windowHeight;
		return isBottom;		
	};

// 아이콘눌렀을때 해당 이미지 다운로드

// $(document).on('click', '.fa-download', function(){ 
//   	$(this).siblings().
// }); 


///스무스스크롤
$("#arrowUp").smoothScroll({
		speed:600,
		
	});
// 스와이프
var x

	$(document).on("mousedown","li",function(e){
		x=e.offsetX
		
	});

	$(document).on("mouseup","li",function(e){
		var y=e.offsetX
		
		var dragLeft=y-x
		var dragRight=x-y
		if(dragLeft>50){
			$(this).parent().parent().addClass("animated fadeOutRight");
			
		}else if(dragRight>50){
			$(this).parent().parent().addClass("animated fadeOutLeft");
			
		}
	});


// 사라진div remove
setInterval(function(){
	$(".fadeOutRight,.fadeOutLeft").hide();
},2500)


</script>
</body>
</html>